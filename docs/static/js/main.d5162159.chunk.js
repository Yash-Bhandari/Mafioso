(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},106:function(e,t,a){e.exports=a.p+"static/media/mafioso-logo.c4178e9f.svg"},110:function(e,t,a){e.exports=a(266)},115:function(e,t,a){},252:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(105),c=a.n(o),l=(a(115),a(13)),i=a(14),s=a(16),u=a(15),d=a(18),m=a(17),p=a(106),h=a.n(p),f=a(12),v=a.n(f),b=a(24),E=(a(62),a(10));a(63);function y(e){return r.a.createElement("div",{id:"main-menu"},r.a.createElement(g,{backend:e.backend}),r.a.createElement("button",{className:"main-menu-button",onClick:function(){return O("create")}},"Create Game"))}var g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={clicked:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(e){var t=this;return this.state.clicked?r.a.createElement(j,{backend:this.props.backend}):r.a.createElement("button",{className:"main-menu-button",onClick:function(){return t.setState({clicked:!0})}},"Join Game")}}]),t}(r.a.Component);function j(e){return r.a.createElement("div",{id:"game-code"},r.a.createElement("div",{id:"game-code-input-left"},r.a.createElement("input",{id:"game-code-input",type:"text",placeholder:"code",name:"game-code",width:"5"})),r.a.createElement("div",{id:"game-code-input-right"},r.a.createElement("button",{className:"game-code-button",onClick:function(){return function(){return k.apply(this,arguments)}()}},"Join Game")))}function k(){return(k=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=E("#game-code-input").val().toUpperCase(),console.log(t),O(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){window.location.href="/"+e}function R(e){return r.a.createElement("div",null,r.a.createElement("img",{id:"logo",src:h.a}),r.a.createElement(y,{goTo:e.goTo,backend:e.backend}))}var w=a(109);function C(e){return r.a.createElement("div",{className:"role-add"},x,r.a.createElement("input",{className:"role-add-name",placeholder:"Role",list:"possible-roles",onInput:N}),r.a.createElement("input",{className:"role-add-quantity",placeholder:"#",type:"number"}),r.a.createElement("button",{className:"role-add-submit",onClick:function(){return function(e){var t=E("input.role-add-name").val(),a=E("input.role-add-quantity").val();""===a&&(a=1);E("input.role-add-name").val(""),E("input.role-add-quantity").val(""),e({name:t,quantity:a})}(e.addRole)}},"Add"))}var x=r.a.createElement("datalist",{id:"possible-roles"},r.a.createElement("option",{value:"Mafia"}),r.a.createElement("option",{value:"Doctor"}),r.a.createElement("option",{value:"Investigator"}),r.a.createElement("option",{value:"Jester"}),r.a.createElement("option",{value:"Vigilante"}),r.a.createElement("option",{value:"Werewolf"}),r.a.createElement("option",{value:"Gravedigger"}),r.a.createElement("option",{value:"Lookout"}),r.a.createElement("option",{value:"Mayor"}),r.a.createElement("option",{value:"Townie"}));function N(){for(var e=E("input.role-add-name")[0],t=E("#possible-roles")[0].options,a=0;a<t.length;a++)t.item(a).value.toUpperCase()===e.value.toUpperCase()&&(e.value=t.item(a).value),t.item(a).value===e.value&&E("input.role-add-quantity").focus()}function G(e){return r.a.createElement("div",{className:"added-role"},e.role.name," x ",e.role.quantity)}a(252);var S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).createGame=Object(b.a)(v.a.mark(function e(){var t,a,n,r,o,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a=0;a<this.state.addedRoles.length;a++)for(n=this.state.addedRoles[a],r=0;r<n.quantity;r++)t.push(n.name);return o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roles:t})},console.log(o),e.next=6,fetch(this.props.backend+"/create",o);case 6:c=e.sent,l=c.headers.get("gameCode"),console.log(l),window.location.href="http://localhost:3000/host/"+l;case 10:case"end":return e.stop()}},e,this)})),a.state={addedRoles:[]},a.addRole=a.addRole.bind(Object(d.a)(a)),a.renderAddedRoles=a.renderAddedRoles.bind(Object(d.a)(a)),a.createGame=a.createGame.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderAddedRoles",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,c=this.state.addedRoles[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var l=o.value;e.push(r.a.createElement(G,{role:l}))}}catch(i){a=!0,n=i}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}return e}},{key:"addRole",value:function(e){this.setState({addedRoles:[].concat(Object(w.a)(this.state.addedRoles),[e])})}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("h1",{className:"page-header"},"Game Creation"),this.renderAddedRoles(),r.a.createElement(C,{addRole:this.addRole}),r.a.createElement("button",{className:"main-menu-button",onClick:this.createGame},"Start Game"))}}]),t}(r.a.Component);a(103);function T(e){var t=[],a=[];return e.roles.forEach(function(e){return t.push(r.a.createElement(q,{role:e}))}),e.players.forEach(function(e){return a.push(r.a.createElement(q,{role:e}))}),r.a.createElement("div",{id:"players-and-roles"},r.a.createElement("div",{id:"players-list"},r.a.createElement("h2",{id:"list-header"},"Players"),a),r.a.createElement("div",{id:"roles-list"},r.a.createElement("h2",{id:"list-header"},"Roles"),t))}function q(e){return r.a.createElement("div",{className:"available-role"},e.role)}var J="https://mafioso-app.herokuapp.com/mafioso/",A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={roles:[],players:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return I.apply(this,arguments)})(this.props.match.params.gameCode).then(function(t){return e.setState({roles:t.roles,players:t.players})})}},{key:"render",value:function(e){return console.log(this.state.roles),r.a.createElement("div",null,r.a.createElement(T,{roles:this.state.roles,players:this.state.players}),r.a.createElement("div",{id:"join-choose-name"},r.a.createElement("input",{id:"join-username",placeholder:"Your Name",type:"text"}),r.a.createElement("button",{id:"join-submit"},"Get Role")))}}]),t}(r.a.Component);function I(){return(I=Object(b.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(J+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var M=a(26),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={screen:"home",backend:"http://localhost:8080/mafioso"},a.goTo=a.goTo.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(e){return r.a.createElement(M.BrowserRouter,null,r.a.createElement(M.Switch,null,r.a.createElement(M.Route,{exact:!0,path:"/",component:R}),r.a.createElement(M.Route,{path:"/create",component:S}),r.a.createElement(M.Route,{path:"/:gameCode",component:A})))}},{key:"goTo",value:function(e){this.setState({screen:e})}}]),t}(r.a.Component);c.a.render(r.a.createElement(U,null),document.getElementById("root"))},62:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.d5162159.chunk.js.map